/*! helpersjs 2013-08-09 */
!function(a){"use strict";a.create=function(){return{isEmptyObject:function(a){for(var b in a)return!1;return!0},isset:function(a){return void 0!==a&&null!==a&&void 0!==typeof a.length?0!==a.length:"object"==typeof a?!this.isEmptyObject(a):void 0!==a&&""!==a},results:[],assert:function(a,b){var c=document.createElement("li");return c.className=a?"pass":"fail",c.appendChild(document.createTextNode(b)),this.results.appendChild(c),a||(c.parentNode.parentNode.className="fail"),c},test:function(a,b){this.results=document.getElementById("results"),this.results=this.assert(!0,a).appendChild(document.createElement("ul")),b()},logging:{emerg:0,alert:1,crit:2,err:3,warning:4,notice:5,info:6,debug:7},logging_threshold:4,logEmerg:function(){this.logging.emerg<=this.logging_threshold&&this.log.apply(this,arguments)},logAlert:function(){this.logging.alert<=this.logging_threshold&&this.log.apply(this,arguments)},logCrit:function(){this.logging.crit<=this.logging_threshold&&this.log.apply(this,arguments)},logErr:function(){this.logging.err<=this.logging_threshold&&this.log.apply(this,arguments)},logWarning:function(){this.logging.warning<=this.logging_threshold&&this.log.apply(this,arguments)},logNotice:function(){this.logging.notice<=this.logging_threshold&&this.log.apply(this,arguments)},logInfo:function(){this.logging.info<=this.logging_threshold&&this.log.apply(this,arguments)},logDebug:function(){this.logging.debug<=this.logging_threshold&&this.log.apply(this,arguments)},log:function(){try{console.log.apply(console,arguments)}catch(a){try{opera.postError.apply(opera,arguments)}catch(a){alert(Array.prototype.join.call(arguments," "))}}},cache:{},tmpl:function b(a,c){var d=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}"+"return p.join('');"):this.cache[a]=this.cache[a]||b(document.getElementById(a).innerHTML);return c?d(c):d},ISODateString:function(a){function b(a){return 10>a?"0"+a:a}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+(a.getTimezoneOffset()<0?"+":"-")+b(Math.abs(Math.floor(a.getTimezoneOffset()/60)))+":"+b(a.getTimezoneOffset()%60)},signString:function(b,c){var d="undefined"!=typeof a?require("node-sha256"):this,e=new d.jsSHA(b,"ASCII"),f=e.getHMAC(c,"TEXT","SHA-256","B64");return this.logDebug("sign: stringToSign - "+b+" - hash - "+f),f},sign:function(a,b,c,d,e){var f=(new Date).getTime();void 0===e&&(e=0);var g=this.ISODateString(new Date(f+1e3*e)),h=Math.floor(1e9*Math.random()),i=["Verb"+b,"Model"+a,"Version0.1","Timestamp"+g,"KeyID"+c,"UniqueSalt"+h];i.sort();var j=i.join(""),k=this.signString(j,d);return{timestamp:g,salt:h,base64:k}},generateApiKeyAndSecret:function(a){return{apiKey:a.bigInt2str(a.randBigInt(64,0),32),apiSecret:a.bigInt2str(a.randBigInt(128,0),58)}}}}}("undefined"==typeof exports?this.helpers={}:exports),function(a){"use strict";a.createAsync=function(a,b){var c=void 0!==a?a:require(__dirname+"/helpers.js").create(),d=void 0!==b?b:200;return{_helpers:c,_asyncRunning:!1,_timeoutIntervall:d,_result:[],_counter:0,_intervalId:null,started:function(){return this._helpers.logDebug("simpleAsync.started"),this._asyncRunning?new Error("simpleAsync.started: started called on async object that already is started"):(this._asyncRunning=!0,void 0)},stopped:function(){return this._helpers.logDebug("simpleAsync.stopped"),this._asyncRunning?(this._asyncRunning=!1,void 0):new Error("simpleAsync.stopped: stopped called on async object that already is stopped")},getResult:function(){return this._asyncRunning?null:this._result},firstThen:function(a,b){this.started(),a(),this._intervalId=setInterval(function(){this._asyncRunning?(this._counter++,this._helpers.logDebug("simpleAsync.firstThen: counter - "+this._counter)):(this._helpers.logDebug("simpleAsync.firstThen: this._asyncRunning now false. "+this._intervalId),clearInterval(this._intervalId),this.started(),b())}.bind(this),this._timeoutIntervall)},delayed:function(a,b,c){this._helpers.logDebug("simpleAsync.delayed: start of function"),void 0===c&&(c=1e3),setTimeout(function(){this._result.push(b(a))}.bind(this),c)},series:function(a){return this._helpers.logDebug("simpleAsync.series: start of function"),a.length<2?new Error("At least two functions are needed!"):(2===a.length?(this._helpers.logDebug("simpleAsync.series: funcs.length === 2"),this.firstThen(a[0],a[1])):(this._helpers.logDebug("simpleAsync.series: funcs.length > 2"),this.firstThen(a[0],this.series(a.slice(1,a.length)))),void 0)}}}}("undefined"==typeof exports?this.simpleAsync={}:exports);