<html>
<head>
    <title>Php</title>
    <meta name="generator" content="DocPad v6.59.6" />
    
</head>
<body>
    <h1>Php</h1>
<h3>Author: Jonas Colmsjo</h3>
<h3>Date: Sun Jan 01 2012 01:00:00 GMT+0100 (CET)</h3>
<div><p>Yet another post</p>
<p>[[Main_Page]] &gt; [[IT resources]]</p>
<ul>
<li><a href="http://openlife.cc/blogs/2011/june/mythbusters-how-configure-innodb-buffer-pool-large-mysql-servers">http://openlife.cc/blogs/2011/june/mythbusters-how-configure-innodb-buffer-pool-large-mysql-servers</a>
-* <a href="http://www.notesbit.com/index.php/web-mysql/mysql/mysql-tuning-optimizing-my-cnf-file/">http://www.notesbit.com/index.php/web-mysql/mysql/mysql-tuning-optimizing-my-cnf-file/</a></li>
</ul>
<h1>Drift och support</h1>
<ul>
<li><a href="http://www.percona.com/prices/mysql-support/">http://www.percona.com/prices/mysql-support/</a></li>
</ul>
<p>Exempel på tjäsnter och verktyg:
<em> RightScale
</em> Scalr</p>
<p>Performance:
<em> SmartOptimizer
</em>use db slave for reading
<em> use inmemory cache - memcached etc.
</em> <a href="http://eliw.com/presentations/zendcon-2007-high-perf.pdf">http://eliw.com/presentations/zendcon-2007-high-perf.pdf</a>
<em> <a href="http://eliw.com/presentations/zendcon-2007-high-perf.pdf">http://eliw.com/presentations/zendcon-2007-high-perf.pdf</a>
</em> <a href="http://httpd.apache.org/docs/2.0/programs/ab.html">http://httpd.apache.org/docs/2.0/programs/ab.html</a>
<em> <a href="http://en.wikipedia.org/wiki/Web_server_benchmarking">http://en.wikipedia.org/wiki/Web_server_benchmarking</a>
</em> <a href="http://www.opensourcetesting.org/performance.php">http://www.opensourcetesting.org/performance.php</a>
<em> <a href="http://en.wikipedia.org/wiki/List_of_PHP_accelerators">http://en.wikipedia.org/wiki/List_of_PHP_accelerators</a>
</em> <a href="http://www.script-tutorials.com/how-to-install-apc-on-linux/">http://www.script-tutorials.com/how-to-install-apc-on-linux/</a>
<em> <a href="http://www.scribd.com/mobile/documents/2602028/download?secret_password=1j1e9fj5jikq8k6hu35d">http://www.scribd.com/mobile/documents/2602028/download?secret_password=1j1e9fj5jikq8k6hu35d</a>
</em> sql bench included with mysql
<em> mybench
</em> mysqlslap
* jmeter complex...</p>
<h1>= MySQL =</h1>
<p>Probably good, $300 per year for one server
* <a href="http://www.webyog.com/en/">http://www.webyog.com/en/</a></p>
<p>Packages:
<em> mysql-bench
</em> mysqlreport - yum install mysqlreport
<em> mysqltuner
</em> mtop - mtop --dbuser=root --password=
*</p>
<p>Comprehensive tests:
* <a href="http://sourceforge.net/apps/mediawiki/osdldbt/index.php?title=Main_Page">http://sourceforge.net/apps/mediawiki/osdldbt/index.php?title=Main_Page</a></p>
<p>Alternatives: Nagios 25 xxxxxxxxxxxxxxxxxxxxxxxxx MONyog 8 xxxxxxxx Cacti 4 xxxx Munin 3 xxx MySQL Enterprise Monitor/Merlin 3 xxx</p>
<p>Nagios:</p>
<pre>
yum install gcc glibc glibc-common
yum install gd gd-devel
yum install nagios
yum install nagios-plugins-all
service nagios start
# open https://<IP>/nagios, nagiosadmin/nagiosadmin
</pre>



<p>Increase php resource limit to 1024M in Webmin
Also set timezone</p>
<ul>
<li><a href="http://www.cyberciti.biz/faq/fedora-rhel-install-cacti-monitoring-rrd-software/">http://www.cyberciti.biz/faq/fedora-rhel-install-cacti-monitoring-rrd-software/</a></li>
<li><a href="http://docs.cacti.net/plugins">http://docs.cacti.net/plugins</a></li>
<li><a href="http://www.cacti.net/downloads/docs/html/unix_configure_cacti.html">http://www.cacti.net/downloads/docs/html/unix_configure_cacti.html</a></li>
</ul>
<pre>
# cerate cacti database in mysql
yum install net-snmp-utils php-snmp net-snmp-libs
yum install cacti
service httpd restart
cd /usr/share/cacti

rpm -ql cacti | grep cacti.sql
mysql cacti -ucacti -p  < /usr/share/doc/cacti-0.8.7h/cacti.sql

# remove #
vi /etc/cron.d/cacti

# Login with admin/admin
http://31.222.155.9/cacti/install/
</pre>


<h1>= Scalr installation =</h1>
<ul>
<li><a href="http://code.google.com/p/scalr/">http://code.google.com/p/scalr/</a></li>
<li><a href="http://wiki.scalr.net/Getting_Started">http://wiki.scalr.net/Getting_Started</a></li>
<li><a href="http://wiki.scalr.net/Installing_Scalr">http://wiki.scalr.net/Installing_Scalr</a></li>
</ul>
<p>Setup bind in webmin</p>
<pre>
yum -y install libssh2 openssl net-snmp-utils bind php-ZendFramework-Db-Adapter-Mysqli gettext php-php-gettext php-mcrypt mhash php-pecl-ssh2 php-xml php-pear-SOA php-snmp 
wget http://scalr.googlecode.com/files/scalr-2.2.1.tar.gz

# Might need this also
yum install php-pear
pear install pecl_html
</pre>


<p>Apache:
* php-pecl-apc</p>
</div>
    
</body>
</html>
