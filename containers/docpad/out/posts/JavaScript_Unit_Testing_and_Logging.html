<html>
<head>
    <title>JavaScript Unit Testing and Logging</title>
    <meta name="generator" content="DocPad v6.59.6" />
    
</head>
<body>
    <h1>JavaScript Unit Testing and Logging</h1>
<h3>Author: Jonas Colmsjo</h3>
<h3>Date: Fri Aug 10 2012 02:00:00 GMT+0200 (CEST)</h3>
<div><p>There are tools for unit testing and logging in JavaScript</p>
<p>JavaScript Unit Testing and Logging</p>
<h1>=================================</h1>
<p>All JavaScript exmaples will use a simple unit testing framework from John Resig&#39;s Ninja book. </p>
<p>The unit testing framework has two functions:</p>
<ol>
<li>assert(value, desc) - make sure that <code>value</code> is true and show the <code>desc</code> in either green or red based on the result</li>
<li>test(name, fn) - group asserts into tests executed together. <code>fn</code> is a function containg the tests to run and <code>name</code> is the description of the tests </li>
</ol>
<pre><code>(function(){

    //--------- Unit test functions ---------

    var results;

    this.assert = function assert( value, desc ) {
        var li = document.createElement(&quot;li&quot;);
        li.className = value ? &quot;pass&quot; : &quot;fail&quot;;
        li.appendChild( document.createTextNode( desc ) );
        results.appendChild( li );
        if ( !value ) {
            li.parentNode.parentNode.className = &quot;fail&quot;;
        }
        return li;
    };

    this.test = function test(name, fn) {
        results = document.getElementById(&quot;results&quot;);
        results = assert( true, name ).appendChild(
            document.createElement(&quot;ul&quot;) );
        fn();
    };</code></pre>
<p>The logging function simple logs to the console or shows an alert if there is no console.</p>
<pre><code>    //--------- Logging ---------

    // A simple logging statement that works in all browsers.
    this.log = function log() {
      try {
        console.log.apply( console, arguments );
      } catch(e) {
        try {
          opera.postError.apply( opera, arguments );
        } catch(e){
          alert( Array.prototype.join.call( arguments, &quot; &quot; ) );
        }
      }
    }

})();</code></pre>
<p>All examples going forward will use these functions.</p>
</div>
    
</body>
</html>
